<ion-view title="MapView">
	<ion-nav-buttons side="left">
		<button menu-toggle="left" class="button button-icon icon ion-navicon"></button>
		<button ng-click="openPopover($event)" class="button button-outline button-positive button-dark item-button-right">Last Seen</button>
	</ion-nav-buttons>

	<ion-header-bar class="bar-stable">
		<h1 class="title">Map</h1>
	</ion-header-bar>

	<ion-content scroll="false">
		<map on-create="mapCreated(map)"></map>
	</ion-content>

	<ion-footer-bar class="bar-stable">
		<a ng-click="centerOnMe()" class="button button-icon icon ion-android-locate">Locate</a>
		<a ng-click="zoom()" class="button button-icon icon ion-pinpoint">Zoom</a>
		<a ng-click="getDirections()" class="button button-icon icon ion-ios7-paw">Directions</a>
	</ion-footer-bar>


	<script id="last-seen-popover.html" type="text/ng-template">
		<ion-popover-view>
			<ion-header-bar>
				<h1 class="title">Update Time</h1>
			</ion-header-bar>

			<ion-content>
				<div class="card">
					<div class="item item-divider">
						{{clock | date:'MMM-dd hh:mm:ss a'}}
					</div>
				</div>

				<ion-item ng-repeat='(key, value) in lastSeenMap'>
					<h2>{{key}}</h2>
					<p>{{value | date:'MMM-dd hh:mm:ss a'}}</p>
				</ion-item>
			</ion-content>
		</ion-popover-view>
	</script>

</ion-view>
